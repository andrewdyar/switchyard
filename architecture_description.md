The system begins with `scraped_products`, which represent raw product records collected from external retailers. A single scraped product may be associated with many `retailer_mappings`, meaning the same scraped product can exist under multiple retailer-specific identifiers or listings. In parallel, a scraped product may also have many `retailer_pricing` records, allowing prices to be tracked across retailers or over time. Each scraped product may be curated into a `sellable_product`, and this relationship is strictly one-to-one: a scraped product is curated as at most one sellable product, and each sellable product originates from exactly one scraped product, ensuring a direct and unambiguous lineage between external data and the internal catalog.

Once a product exists as a `sellable_product`, it becomes part of the internal commerce and fulfillment system. A sellable product may be stocked as many `inventory_items`, where each inventory item represents a discrete, trackable unit of physical stock. Sellable products may also participate in optional many-to-many structuring relationships. Through `variant_group_members`, sellable products can be grouped into `variant_groups`, allowing related products such as sizes or flavors to be associated together, with each variant group containing one or more members. Separately, sellable products can participate in `bulk_sku_relationships`, which define how individual sellable products relate to bulk or multi-unit SKUs.

Each `inventory_item` is stored at exactly one `inventory_location`, representing a specific inventory slot. Each inventory slot belongs to exactly one `inventory_group`, allowing locations to be logically grouped by warehouse, zone, aisle, bay, or shelf.

Customer activity is modeled through `customers`, who place `orders`. Each customer may place many orders, and each order belongs to exactly one customer. An order contains one or more `order_items`, and each order item references exactly one `sellable_product`, defining what the customer has purchased. Orders are physically assembled into `totes`, with each order producing one or more totes that serve as the primary containers used to move the order through fulfillment.

Each `tote` contains one or more `bags`, allowing the contents of an order to be subdivided for handling, routing, or organization. Totes may be delivered by `robots`, meaning a tote may be transported by a robot, and robots may handle many totes over time. Each bag contains one or more `bag_items`, and each bag item fulfills exactly one `order_item`, forming a direct physical link between customer demand and packed goods. Each bag is staged at exactly one `inventory_location`, indicating where assembled bags physically reside while awaiting pickup, consolidation, or delivery.

External retail sourcing is modeled through `routes`, which contain one or more `sweeps`. A sweep represents a shopping run executed along a defined route. Each sweep is performed at a specific `store`, and each store may be associated with many sweeps over time. A sweep contains one or more `sweep_items`, and each sweep item references a `sellable_product` that must be acquired during that sweep. Sweep items may be allocated in two ways: through `sweep_order_allocations`, which assign purchased quantities directly to order items for customer fulfillment, or through `sweep_inventory_allocations`, which assign purchased quantities into internal inventory rather than to specific customer orders.

Internal picking operations are coordinated through `pick_lists`, which represent structured picking tasks within inventory. Each pick list contains one or more `pick_list_items`. Each pick list item references a `sellable_product`, is picked from a specific `inventory_item`, and is placed into a specific `bag_item`, directly tying inventory picking to the physical assembly of customer orders.

System access and operational responsibility are handled through `users` and `staff`. A user may be linked to a staff record, allowing system users to be associated with operational roles. Users may also manually create `orders`, in addition to orders being created through customer activity. Staff members may drive `sweeps` and pick `pick_lists`, with each staff member potentially assigned to many sweeps and many pick lists. Together, these relationships describe a fully integrated system where products flow from external retail data into a curated catalog, move through inventory and sweep-based sourcing, and are physically assembled into bags and totes that fulfill customer orders, with users, staff, robots, and stores coordinating every step of the process.
